"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/exemplares";
exports.ids = ["pages/api/exemplares"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexemplares&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cexemplares.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexemplares&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cexemplares.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_exemplares_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\exemplares.js */ \"(api)/./pages/api/exemplares.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_exemplares_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_exemplares_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/exemplares\",\n        pathname: \"/api/exemplares\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_exemplares_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmV4ZW1wbGFyZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2V4ZW1wbGFyZXMuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDd0Q7QUFDeEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaWJsaW90ZWNhLWVzY29sYXItbmV4dGpzLz8wMjkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZXhlbXBsYXJlcy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2V4ZW1wbGFyZXNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9leGVtcGxhcmVzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexemplares&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cexemplares.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDueDate: () => (/* binding */ calculateDueDate),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   getLivroInfo: () => (/* binding */ getLivroInfo),\n/* harmony export */   getUtenteInfo: () => (/* binding */ getUtenteInfo),\n/* harmony export */   hasOverdueLoans: () => (/* binding */ hasOverdueLoans),\n/* harmony export */   isExemplarDisponivel: () => (/* binding */ isExemplarDisponivel),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail),\n/* harmony export */   sanitize: () => (/* binding */ sanitize),\n/* harmony export */   showErrorMessage: () => (/* binding */ showErrorMessage),\n/* harmony export */   showSuccessMessage: () => (/* binding */ showSuccessMessage),\n/* harmony export */   showWarningMessage: () => (/* binding */ showWarningMessage),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * Cliente Supabase para Biblioteca Escolar\r\n * Configuração do cliente Supabase com as variáveis de ambiente\r\n */ \n// Configuração do cliente Supabase\nconst supabaseUrl = \"https://xwmtuvdyhmnicutsumke.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3bXR1dmR5aG1uaWN1dHN1bWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyMzc0NzgsImV4cCI6MjA3NDgxMzQ3OH0.SrrI87xSOpwWJo_4D5-VrqBn8eZ-lOrTxGqLl3eJxCU\";\n// Criar e exportar o cliente Supabase\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Cliente para operações do servidor (API routes)\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, process.env.SUPABASE_SERVICE_ROLE_KEY || supabaseAnonKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n// Funções auxiliares para formatação e validação\nconst formatDate = (date)=>{\n    if (!date) return \"N/A\";\n    try {\n        const dateObj = typeof date === \"string\" ? new Date(date) : date;\n        return dateObj.toLocaleDateString(\"pt-BR\");\n    } catch (error) {\n        return \"Data inv\\xe1lida\";\n    }\n};\nconst calculateDueDate = (days = 14)=>{\n    const date = new Date();\n    date.setDate(date.getDate() + days);\n    return date.toISOString().split(\"T\")[0];\n};\nconst isValidEmail = (email)=>{\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n};\nconst sanitize = (input)=>{\n    return input.trim().replace(/[<>]/g, \"\");\n};\n// Funções para validação de exemplares\nconst isExemplarDisponivel = async (exemplarId)=>{\n    const { data, error } = await supabase.from(\"livro_exemplar\").select(\"lex_disponivel\").eq(\"lex_cod\", exemplarId).single();\n    if (error || !data) return false;\n    return data.lex_disponivel;\n};\n// Funções para obter informações\nconst getUtenteInfo = async (utenteId)=>{\n    const { data, error } = await supabase.from(\"utente\").select(\"*\").eq(\"ut_cod\", utenteId).single();\n    if (error || !data) return null;\n    return data;\n};\nconst getLivroInfo = async (livroId)=>{\n    const { data, error } = await supabase.from(\"livro\").select(`\r\n      *,\r\n      autor:autor(au_nome),\r\n      editora:editora(ed_nome),\r\n      genero:genero(ge_genero)\r\n    `).eq(\"li_cod\", livroId).single();\n    if (error || !data) return null;\n    return data;\n};\n// Função para verificar empréstimos em atraso\nconst hasOverdueLoans = async (utenteId)=>{\n    const { data, error } = await supabase.from(\"requisicao\").select(\"re_cod\").eq(\"re_ut_cod\", utenteId).is(\"re_data_devolucao\", null).lt(\"re_data_requisicao\", new Date(Date.now() - 14 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0]);\n    if (error) return false;\n    return data && data.length > 0;\n};\n// Funções para mensagens de feedback\nconst showSuccessMessage = (message)=>{\n    return `<div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n          </div>`;\n};\nconst showErrorMessage = (message)=>{\n    return `<div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n          </div>`;\n};\nconst showWarningMessage = (message)=>{\n    return `<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n          </div>`;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBRXZHLElBQUlOLE9BQU8sT0FBTztJQUNsQixPQUFPaUIsUUFBUUEsS0FBS2MsTUFBTSxHQUFHO0FBQy9CLEVBQUM7QUFFRCxxQ0FBcUM7QUFDOUIsTUFBTUMscUJBQXFCLENBQUNDO0lBQ2pDLE9BQU8sQ0FBQztZQUNFLEVBQUVBLFFBQVE7O2dCQUVOLENBQUM7QUFDakIsRUFBQztBQUVNLE1BQU1DLG1CQUFtQixDQUFDRDtJQUMvQixPQUFPLENBQUM7WUFDRSxFQUFFQSxRQUFROztnQkFFTixDQUFDO0FBQ2pCLEVBQUM7QUFFTSxNQUFNRSxxQkFBcUIsQ0FBQ0Y7SUFDakMsT0FBTyxDQUFDO1lBQ0UsRUFBRUEsUUFBUTs7Z0JBRU4sQ0FBQztBQUNqQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmlibGlvdGVjYS1lc2NvbGFyLW5leHRqcy8uL2xpYi9zdXBhYmFzZUNsaWVudC5qcz81ZjBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDbGllbnRlIFN1cGFiYXNlIHBhcmEgQmlibGlvdGVjYSBFc2NvbGFyXHJcbiAqIENvbmZpZ3VyYcOnw6NvIGRvIGNsaWVudGUgU3VwYWJhc2UgY29tIGFzIHZhcmnDoXZlaXMgZGUgYW1iaWVudGVcclxuICovXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXHJcblxyXG4vLyBDb25maWd1cmHDp8OjbyBkbyBjbGllbnRlIFN1cGFiYXNlXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gJ2h0dHBzOi8veHdtdHV2ZHlobW5pY3V0c3Vta2Uuc3VwYWJhc2UuY28nXHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbmgzYlhSMWRtUjVhRzF1YVdOMWRITjFiV3RsSWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNOVGt5TXpjME56Z3NJbVY0Y0NJNk1qQTNORGd4TXpRM09IMC5TcnJJODd4U09wd1dKb180RDUtVnJxQm44ZVotbE9yVHhHcUxsM2VKeENVJ1xyXG5cclxuLy8gQ3JpYXIgZSBleHBvcnRhciBvIGNsaWVudGUgU3VwYWJhc2VcclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXHJcblxyXG4vLyBDbGllbnRlIHBhcmEgb3BlcmHDp8O1ZXMgZG8gc2Vydmlkb3IgKEFQSSByb3V0ZXMpXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KFxyXG4gIHN1cGFiYXNlVXJsLFxyXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgfHwgc3VwYWJhc2VBbm9uS2V5LFxyXG4gIHtcclxuICAgIGF1dGg6IHtcclxuICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXHJcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgfVxyXG4pXHJcblxyXG4vLyBGdW7Dp8O1ZXMgYXV4aWxpYXJlcyBwYXJhIGZvcm1hdGHDp8OjbyBlIHZhbGlkYcOnw6NvXHJcbmV4cG9ydCBjb25zdCBmb3JtYXREYXRlID0gKGRhdGUpID0+IHtcclxuICBpZiAoIWRhdGUpIHJldHVybiAnTi9BJ1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlT2JqID0gdHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnID8gbmV3IERhdGUoZGF0ZSkgOiBkYXRlXHJcbiAgICByZXR1cm4gZGF0ZU9iai50b0xvY2FsZURhdGVTdHJpbmcoJ3B0LUJSJylcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuICdEYXRhIGludsOhbGlkYSdcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVEdWVEYXRlID0gKGRheXMgPSAxNCkgPT4ge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cylcclxuICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzVmFsaWRFbWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskL1xyXG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzYW5pdGl6ZSA9IChpbnB1dCkgPT4ge1xyXG4gIHJldHVybiBpbnB1dC50cmltKCkucmVwbGFjZSgvWzw+XS9nLCAnJylcclxufVxyXG5cclxuLy8gRnVuw6fDtWVzIHBhcmEgdmFsaWRhw6fDo28gZGUgZXhlbXBsYXJlc1xyXG5leHBvcnQgY29uc3QgaXNFeGVtcGxhckRpc3Bvbml2ZWwgPSBhc3luYyAoZXhlbXBsYXJJZCkgPT4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGl2cm9fZXhlbXBsYXInKVxyXG4gICAgLnNlbGVjdCgnbGV4X2Rpc3Bvbml2ZWwnKVxyXG4gICAgLmVxKCdsZXhfY29kJywgZXhlbXBsYXJJZClcclxuICAgIC5zaW5nbGUoKVxyXG5cclxuICBpZiAoZXJyb3IgfHwgIWRhdGEpIHJldHVybiBmYWxzZVxyXG4gIHJldHVybiBkYXRhLmxleF9kaXNwb25pdmVsXHJcbn1cclxuXHJcbi8vIEZ1bsOnw7VlcyBwYXJhIG9idGVyIGluZm9ybWHDp8O1ZXNcclxuZXhwb3J0IGNvbnN0IGdldFV0ZW50ZUluZm8gPSBhc3luYyAodXRlbnRlSWQpID0+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3V0ZW50ZScpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgndXRfY29kJywgdXRlbnRlSWQpXHJcbiAgICAuc2luZ2xlKClcclxuXHJcbiAgaWYgKGVycm9yIHx8ICFkYXRhKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiBkYXRhXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRMaXZyb0luZm8gPSBhc3luYyAobGl2cm9JZCkgPT4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGl2cm8nKVxyXG4gICAgLnNlbGVjdChgXHJcbiAgICAgICosXHJcbiAgICAgIGF1dG9yOmF1dG9yKGF1X25vbWUpLFxyXG4gICAgICBlZGl0b3JhOmVkaXRvcmEoZWRfbm9tZSksXHJcbiAgICAgIGdlbmVybzpnZW5lcm8oZ2VfZ2VuZXJvKVxyXG4gICAgYClcclxuICAgIC5lcSgnbGlfY29kJywgbGl2cm9JZClcclxuICAgIC5zaW5nbGUoKVxyXG5cclxuICBpZiAoZXJyb3IgfHwgIWRhdGEpIHJldHVybiBudWxsXHJcbiAgcmV0dXJuIGRhdGFcclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSB2ZXJpZmljYXIgZW1wcsOpc3RpbW9zIGVtIGF0cmFzb1xyXG5leHBvcnQgY29uc3QgaGFzT3ZlcmR1ZUxvYW5zID0gYXN5bmMgKHV0ZW50ZUlkKSA9PiB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdyZXF1aXNpY2FvJylcclxuICAgIC5zZWxlY3QoJ3JlX2NvZCcpXHJcbiAgICAuZXEoJ3JlX3V0X2NvZCcsIHV0ZW50ZUlkKVxyXG4gICAgLmlzKCdyZV9kYXRhX2Rldm9sdWNhbycsIG51bGwpXHJcbiAgICAubHQoJ3JlX2RhdGFfcmVxdWlzaWNhbycsIG5ldyBEYXRlKERhdGUubm93KCkgLSAxNCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcclxuXHJcbiAgaWYgKGVycm9yKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDBcclxufVxyXG5cclxuLy8gRnVuw6fDtWVzIHBhcmEgbWVuc2FnZW5zIGRlIGZlZWRiYWNrXHJcbmV4cG9ydCBjb25zdCBzaG93U3VjY2Vzc01lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xyXG4gIHJldHVybiBgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MgYWxlcnQtZGlzbWlzc2libGUgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgICR7bWVzc2FnZX1cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tY2xvc2VcIiBkYXRhLWJzLWRpc21pc3M9XCJhbGVydFwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+YFxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd0Vycm9yTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyIGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAke21lc3NhZ2V9XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwiYWxlcnRcIj48L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PmBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dXYXJuaW5nTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBhbGVydC1kaXNtaXNzaWJsZSBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgJHttZXNzYWdlfVxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1jbG9zZVwiIGRhdGEtYnMtZGlzbWlzcz1cImFsZXJ0XCI+PC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5gXHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwic3VwYWJhc2VBbm9uS2V5Iiwic3VwYWJhc2UiLCJzdXBhYmFzZUFkbWluIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJkYXRlT2JqIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImVycm9yIiwiY2FsY3VsYXRlRHVlRGF0ZSIsImRheXMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0Iiwic2FuaXRpemUiLCJpbnB1dCIsInRyaW0iLCJyZXBsYWNlIiwiaXNFeGVtcGxhckRpc3Bvbml2ZWwiLCJleGVtcGxhcklkIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImxleF9kaXNwb25pdmVsIiwiZ2V0VXRlbnRlSW5mbyIsInV0ZW50ZUlkIiwiZ2V0TGl2cm9JbmZvIiwibGl2cm9JZCIsImhhc092ZXJkdWVMb2FucyIsImlzIiwibHQiLCJub3ciLCJsZW5ndGgiLCJzaG93U3VjY2Vzc01lc3NhZ2UiLCJtZXNzYWdlIiwic2hvd0Vycm9yTWVzc2FnZSIsInNob3dXYXJuaW5nTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/exemplares.js":
/*!*********************************!*\
  !*** ./pages/api/exemplares.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/**\r\n * API Route para CRUD da tabela livro_exemplar\r\n * Gerencia exemplares da biblioteca\r\n */ \nasync function handler(req, res) {\n    // Configurar CORS para permitir requisições do frontend\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n    // Responder a requisições OPTIONS (preflight)\n    if (req.method === \"OPTIONS\") {\n        return res.status(200).end();\n    }\n    try {\n        switch(req.method){\n            case \"GET\":\n                return await handleGet(req, res);\n            case \"POST\":\n                return await handlePost(req, res);\n            case \"PUT\":\n                return await handlePut(req, res);\n            case \"DELETE\":\n                return await handleDelete(req, res);\n            default:\n                return res.status(405).json({\n                    error: \"M\\xe9todo n\\xe3o permitido\"\n                });\n        }\n    } catch (error) {\n        console.error(\"Erro na API de exemplares:\", error);\n        return res.status(500).json({\n            error: \"Erro interno do servidor\"\n        });\n    }\n}\n/**\r\n * GET - Buscar exemplares\r\n * Suporta filtros por disponibilidade, livro e paginação\r\n */ async function handleGet(req, res) {\n    const { disponivel, livro, page = 1, limit = 10, id } = req.query;\n    try {\n        // Se foi fornecido um ID específico, buscar apenas esse exemplar\n        if (id) {\n            const { data: exemplar, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").select(`\r\n          lex_cod,\r\n          lex_estado,\r\n          lex_disponivel,\r\n          lex_li_cod,\r\n          livro:livro (\r\n            li_titulo,\r\n            autor:autor (\r\n              au_nome\r\n            )\r\n          )\r\n        `).eq(\"lex_cod\", id).single();\n            if (error) {\n                if (error.code === \"PGRST116\") {\n                    return res.status(404).json({\n                        error: \"Exemplar n\\xe3o encontrado\"\n                    });\n                }\n                throw error;\n            }\n            return res.status(200).json({\n                data: exemplar\n            });\n        }\n        // Busca geral com filtros\n        let query = _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").select(`\r\n        lex_cod,\r\n        lex_estado,\r\n        lex_disponivel,\r\n        lex_li_cod,\r\n        livro:livro (\r\n          li_titulo,\r\n          autor:autor (\r\n            au_nome\r\n          )\r\n        )\r\n      `);\n        // Aplicar filtros\n        if (disponivel !== undefined) {\n            query = query.eq(\"lex_disponivel\", disponivel === \"true\");\n        }\n        if (livro) {\n            query = query.eq(\"lex_li_cod\", livro);\n        }\n        // Ordenar por código do exemplar\n        query = query.order(\"lex_cod\", {\n            ascending: true\n        });\n        // Aplicar paginação\n        const from = (page - 1) * limit;\n        const to = from + limit - 1;\n        query = query.range(from, to);\n        const { data: exemplares, error } = await query;\n        if (error) throw error;\n        return res.status(200).json({\n            data: exemplares\n        });\n    } catch (error) {\n        console.error(\"Erro ao buscar exemplares:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\r\n * POST - Criar novo exemplar\r\n */ async function handlePost(req, res) {\n    const { lex_li_cod, lex_estado, lex_disponivel } = req.body;\n    try {\n        // Validar dados obrigatórios\n        if (!lex_li_cod) {\n            return res.status(400).json({\n                error: \"C\\xf3digo do livro \\xe9 obrigat\\xf3rio\"\n            });\n        }\n        // Verificar se o livro existe\n        const { data: livro, error: livroError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro\").select(\"li_cod\").eq(\"li_cod\", lex_li_cod).single();\n        if (livroError) {\n            return res.status(400).json({\n                error: \"Livro n\\xe3o encontrado\"\n            });\n        }\n        // Criar o exemplar\n        const { data: novoExemplar, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").insert({\n            lex_li_cod,\n            lex_estado: lex_estado || \"Bom\",\n            lex_disponivel: lex_disponivel !== undefined ? lex_disponivel : true\n        }).select().single();\n        if (error) throw error;\n        return res.status(201).json({\n            data: novoExemplar\n        });\n    } catch (error) {\n        console.error(\"Erro ao criar exemplar:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\r\n * PUT - Atualizar exemplar\r\n */ async function handlePut(req, res) {\n    const { id } = req.query;\n    const { lex_estado, lex_disponivel } = req.body;\n    try {\n        if (!id) {\n            return res.status(400).json({\n                error: \"ID do exemplar \\xe9 obrigat\\xf3rio\"\n            });\n        }\n        const updateData = {};\n        if (lex_estado !== undefined) updateData.lex_estado = lex_estado;\n        if (lex_disponivel !== undefined) updateData.lex_disponivel = lex_disponivel;\n        const { data: exemplarAtualizado, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").update(updateData).eq(\"lex_cod\", id).select().single();\n        if (error) throw error;\n        return res.status(200).json({\n            data: exemplarAtualizado\n        });\n    } catch (error) {\n        console.error(\"Erro ao atualizar exemplar:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\r\n * DELETE - Deletar exemplar\r\n */ async function handleDelete(req, res) {\n    const { id } = req.query;\n    try {\n        if (!id) {\n            return res.status(400).json({\n                error: \"ID do exemplar \\xe9 obrigat\\xf3rio\"\n            });\n        }\n        const { error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").delete().eq(\"lex_cod\", id);\n        if (error) throw error;\n        return res.status(200).json({\n            message: \"Exemplar deletado com sucesso\"\n        });\n    } catch (error) {\n        console.error(\"Erro ao deletar exemplar:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sRUFBRWdCLEVBQUUsRUFBRSxHQUFHakIsSUFBSWtCLEtBQUs7SUFFeEIsSUFBSTtRQUNGLElBQUksQ0FBQ0QsSUFBSTtZQUNQLE9BQU9oQixJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQStCO1FBQ3RFO1FBRUEsTUFBTSxFQUFFQSxLQUFLLEVBQUUsR0FBRyxNQUFNYiw4REFBYUEsQ0FDbEN1QixJQUFJLENBQUMsa0JBQ0xzQixNQUFNLEdBQ05wQixFQUFFLENBQUMsV0FBV047UUFFakIsSUFBSU4sT0FBTyxNQUFNQTtRQUVqQixPQUFPVixJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO1lBQUVzQixTQUFTO1FBQWdDO0lBQ3pFLEVBQUUsT0FBT3JCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBT1YsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztZQUFFQyxPQUFPQSxNQUFNcUIsT0FBTztRQUFDO0lBQ3JEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaWJsaW90ZWNhLWVzY29sYXItbmV4dGpzLy4vcGFnZXMvYXBpL2V4ZW1wbGFyZXMuanM/Mjk1OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQVBJIFJvdXRlIHBhcmEgQ1JVRCBkYSB0YWJlbGEgbGl2cm9fZXhlbXBsYXJcclxuICogR2VyZW5jaWEgZXhlbXBsYXJlcyBkYSBiaWJsaW90ZWNhXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZUNsaWVudCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICAvLyBDb25maWd1cmFyIENPUlMgcGFyYSBwZXJtaXRpciByZXF1aXNpw6fDtWVzIGRvIGZyb250ZW5kXHJcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKVxyXG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpXHJcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdDb250ZW50LVR5cGUsIEF1dGhvcml6YXRpb24nKVxyXG5cclxuICAvLyBSZXNwb25kZXIgYSByZXF1aXNpw6fDtWVzIE9QVElPTlMgKHByZWZsaWdodClcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmVuZCgpXHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICAgIGNhc2UgJ0dFVCc6XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZUdldChyZXEsIHJlcylcclxuICAgICAgY2FzZSAnUE9TVCc6XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZVBvc3QocmVxLCByZXMpXHJcbiAgICAgIGNhc2UgJ1BVVCc6XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZVB1dChyZXEsIHJlcylcclxuICAgICAgY2FzZSAnREVMRVRFJzpcclxuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlRGVsZXRlKHJlcSwgcmVzKVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTcOpdG9kbyBuw6NvIHBlcm1pdGlkbycgfSlcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJybyBuYSBBUEkgZGUgZXhlbXBsYXJlczonLCBlcnJvcilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJyB9KVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdFVCAtIEJ1c2NhciBleGVtcGxhcmVzXHJcbiAqIFN1cG9ydGEgZmlsdHJvcyBwb3IgZGlzcG9uaWJpbGlkYWRlLCBsaXZybyBlIHBhZ2luYcOnw6NvXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVHZXQocmVxLCByZXMpIHtcclxuICBjb25zdCB7IGRpc3Bvbml2ZWwsIGxpdnJvLCBwYWdlID0gMSwgbGltaXQgPSAxMCwgaWQgfSA9IHJlcS5xdWVyeVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gU2UgZm9pIGZvcm5lY2lkbyB1bSBJRCBlc3BlY8OtZmljbywgYnVzY2FyIGFwZW5hcyBlc3NlIGV4ZW1wbGFyXHJcbiAgaWYgKGlkKSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhlbXBsYXIsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgICAgLmZyb20oJ2xpdnJvX2V4ZW1wbGFyJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGxleF9jb2QsXHJcbiAgICAgICAgICBsZXhfZXN0YWRvLFxyXG4gICAgICAgICAgbGV4X2Rpc3Bvbml2ZWwsXHJcbiAgICAgICAgICBsZXhfbGlfY29kLFxyXG4gICAgICAgICAgbGl2cm86bGl2cm8gKFxyXG4gICAgICAgICAgICBsaV90aXR1bG8sXHJcbiAgICAgICAgICAgIGF1dG9yOmF1dG9yIChcclxuICAgICAgICAgICAgICBhdV9ub21lXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIClcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5lcSgnbGV4X2NvZCcsIGlkKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnRXhlbXBsYXIgbsOjbyBlbmNvbnRyYWRvJyB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiBleGVtcGxhciB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEJ1c2NhIGdlcmFsIGNvbSBmaWx0cm9zXHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdsaXZyb19leGVtcGxhcicpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGxleF9jb2QsXHJcbiAgICAgICAgbGV4X2VzdGFkbyxcclxuICAgICAgICBsZXhfZGlzcG9uaXZlbCxcclxuICAgICAgICBsZXhfbGlfY29kLFxyXG4gICAgICAgIGxpdnJvOmxpdnJvIChcclxuICAgICAgICAgIGxpX3RpdHVsbyxcclxuICAgICAgICAgIGF1dG9yOmF1dG9yIChcclxuICAgICAgICAgICAgYXVfbm9tZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgYClcclxuXHJcbiAgICAvLyBBcGxpY2FyIGZpbHRyb3NcclxuICAgIGlmIChkaXNwb25pdmVsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnbGV4X2Rpc3Bvbml2ZWwnLCBkaXNwb25pdmVsID09PSAndHJ1ZScpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxpdnJvKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2xleF9saV9jb2QnLCBsaXZybylcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcmRlbmFyIHBvciBjw7NkaWdvIGRvIGV4ZW1wbGFyXHJcbiAgICBxdWVyeSA9IHF1ZXJ5Lm9yZGVyKCdsZXhfY29kJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAvLyBBcGxpY2FyIHBhZ2luYcOnw6NvXHJcbiAgICBjb25zdCBmcm9tID0gKHBhZ2UgLSAxKSAqIGxpbWl0XHJcbiAgICBjb25zdCB0byA9IGZyb20gKyBsaW1pdCAtIDFcclxuICAgIHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pXHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiBleGVtcGxhcmVzLCBlcnJvciB9ID0gYXdhaXQgcXVlcnlcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogZXhlbXBsYXJlcyB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGJ1c2NhciBleGVtcGxhcmVzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSlcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQT1NUIC0gQ3JpYXIgbm92byBleGVtcGxhclxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUG9zdChyZXEsIHJlcykge1xyXG4gIGNvbnN0IHsgbGV4X2xpX2NvZCwgbGV4X2VzdGFkbywgbGV4X2Rpc3Bvbml2ZWwgfSA9IHJlcS5ib2R5XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBWYWxpZGFyIGRhZG9zIG9icmlnYXTDs3Jpb3NcclxuICAgIGlmICghbGV4X2xpX2NvZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0PDs2RpZ28gZG8gbGl2cm8gw6kgb2JyaWdhdMOzcmlvJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBzZSBvIGxpdnJvIGV4aXN0ZVxyXG4gICAgY29uc3QgeyBkYXRhOiBsaXZybywgZXJyb3I6IGxpdnJvRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ2xpdnJvJylcclxuICAgICAgLnNlbGVjdCgnbGlfY29kJylcclxuICAgICAgLmVxKCdsaV9jb2QnLCBsZXhfbGlfY29kKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAobGl2cm9FcnJvcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0xpdnJvIG7Do28gZW5jb250cmFkbycgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmlhciBvIGV4ZW1wbGFyXHJcbiAgICBjb25zdCB7IGRhdGE6IG5vdm9FeGVtcGxhciwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ2xpdnJvX2V4ZW1wbGFyJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgbGV4X2xpX2NvZCxcclxuICAgICAgICBsZXhfZXN0YWRvOiBsZXhfZXN0YWRvIHx8ICdCb20nLFxyXG4gICAgICAgIGxleF9kaXNwb25pdmVsOiBsZXhfZGlzcG9uaXZlbCAhPT0gdW5kZWZpbmVkID8gbGV4X2Rpc3Bvbml2ZWwgOiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgZGF0YTogbm92b0V4ZW1wbGFyIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY3JpYXIgZXhlbXBsYXI6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBVVCAtIEF0dWFsaXphciBleGVtcGxhclxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUHV0KHJlcSwgcmVzKSB7XHJcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnF1ZXJ5XHJcbiAgY29uc3QgeyBsZXhfZXN0YWRvLCBsZXhfZGlzcG9uaXZlbCB9ID0gcmVxLmJvZHlcclxuXHJcbiAgdHJ5IHtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJRCBkbyBleGVtcGxhciDDqSBvYnJpZ2F0w7NyaW8nIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9XHJcbiAgICBpZiAobGV4X2VzdGFkbyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmxleF9lc3RhZG8gPSBsZXhfZXN0YWRvXHJcbiAgICBpZiAobGV4X2Rpc3Bvbml2ZWwgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5sZXhfZGlzcG9uaXZlbCA9IGxleF9kaXNwb25pdmVsXHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiBleGVtcGxhckF0dWFsaXphZG8sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdsaXZyb19leGVtcGxhcicpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcclxuICAgICAgLmVxKCdsZXhfY29kJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZGF0YTogZXhlbXBsYXJBdHVhbGl6YWRvIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYXR1YWxpemFyIGV4ZW1wbGFyOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSlcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBERUxFVEUgLSBEZWxldGFyIGV4ZW1wbGFyXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGUocmVxLCByZXMpIHtcclxuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnlcclxuXHJcbiAgdHJ5IHtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJRCBkbyBleGVtcGxhciDDqSBvYnJpZ2F0w7NyaW8nIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnbGl2cm9fZXhlbXBsYXInKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdsZXhfY29kJywgaWQpXHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdFeGVtcGxhciBkZWxldGFkbyBjb20gc3VjZXNzbycgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBkZWxldGFyIGV4ZW1wbGFyOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSlcclxuICB9XHJcbn0iXSwibmFtZXMiOlsic3VwYWJhc2VBZG1pbiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJtZXRob2QiLCJzdGF0dXMiLCJlbmQiLCJoYW5kbGVHZXQiLCJoYW5kbGVQb3N0IiwiaGFuZGxlUHV0IiwiaGFuZGxlRGVsZXRlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImRpc3Bvbml2ZWwiLCJsaXZybyIsInBhZ2UiLCJsaW1pdCIsImlkIiwicXVlcnkiLCJkYXRhIiwiZXhlbXBsYXIiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJjb2RlIiwidW5kZWZpbmVkIiwib3JkZXIiLCJhc2NlbmRpbmciLCJ0byIsInJhbmdlIiwiZXhlbXBsYXJlcyIsIm1lc3NhZ2UiLCJsZXhfbGlfY29kIiwibGV4X2VzdGFkbyIsImxleF9kaXNwb25pdmVsIiwiYm9keSIsImxpdnJvRXJyb3IiLCJub3ZvRXhlbXBsYXIiLCJpbnNlcnQiLCJ1cGRhdGVEYXRhIiwiZXhlbXBsYXJBdHVhbGl6YWRvIiwidXBkYXRlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/exemplares.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fexemplares&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cexemplares.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();