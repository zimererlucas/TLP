"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/requisicoes";
exports.ids = ["pages/api/requisicoes"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frequisicoes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Crequisicoes.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frequisicoes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Crequisicoes.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_requisicoes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\requisicoes.js */ \"(api)/./pages/api/requisicoes.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_requisicoes_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_requisicoes_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/requisicoes\",\n        pathname: \"/api/requisicoes\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_requisicoes_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJlcXVpc2ljb2VzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNyZXF1aXNpY29lcy5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN5RDtBQUN6RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsc0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHNEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2JpYmxpb3RlY2EtZXNjb2xhci1uZXh0anMvPzBiODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxyZXF1aXNpY29lcy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlcXVpc2ljb2VzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVxdWlzaWNvZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frequisicoes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Crequisicoes.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/supabaseClient.js":
/*!*******************************!*\
  !*** ./lib/supabaseClient.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDueDate: () => (/* binding */ calculateDueDate),\n/* harmony export */   formatDate: () => (/* binding */ formatDate),\n/* harmony export */   getLivroInfo: () => (/* binding */ getLivroInfo),\n/* harmony export */   getUtenteInfo: () => (/* binding */ getUtenteInfo),\n/* harmony export */   hasOverdueLoans: () => (/* binding */ hasOverdueLoans),\n/* harmony export */   isExemplarDisponivel: () => (/* binding */ isExemplarDisponivel),\n/* harmony export */   isValidEmail: () => (/* binding */ isValidEmail),\n/* harmony export */   sanitize: () => (/* binding */ sanitize),\n/* harmony export */   showErrorMessage: () => (/* binding */ showErrorMessage),\n/* harmony export */   showSuccessMessage: () => (/* binding */ showSuccessMessage),\n/* harmony export */   showWarningMessage: () => (/* binding */ showWarningMessage),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * Cliente Supabase para Biblioteca Escolar\r\n * Configuração do cliente Supabase com as variáveis de ambiente\r\n */ \n// Configuração do cliente Supabase\nconst supabaseUrl = \"https://xwmtuvdyhmnicutsumke.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh3bXR1dmR5aG1uaWN1dHN1bWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyMzc0NzgsImV4cCI6MjA3NDgxMzQ3OH0.SrrI87xSOpwWJo_4D5-VrqBn8eZ-lOrTxGqLl3eJxCU\";\n// Criar e exportar o cliente Supabase\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Cliente para operações do servidor (API routes)\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, process.env.SUPABASE_SERVICE_ROLE_KEY || supabaseAnonKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n});\n// Funções auxiliares para formatação e validação\nconst formatDate = (date)=>{\n    if (!date) return \"N/A\";\n    try {\n        const dateObj = typeof date === \"string\" ? new Date(date) : date;\n        return dateObj.toLocaleDateString(\"pt-BR\");\n    } catch (error) {\n        return \"Data inv\\xe1lida\";\n    }\n};\nconst calculateDueDate = (days = 14)=>{\n    const date = new Date();\n    date.setDate(date.getDate() + days);\n    return date.toISOString().split(\"T\")[0];\n};\nconst isValidEmail = (email)=>{\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n};\nconst sanitize = (input)=>{\n    return input.trim().replace(/[<>]/g, \"\");\n};\n// Funções para validação de exemplares\nconst isExemplarDisponivel = async (exemplarId)=>{\n    const { data, error } = await supabase.from(\"livro_exemplar\").select(\"lex_disponivel\").eq(\"lex_cod\", exemplarId).single();\n    if (error || !data) return false;\n    return data.lex_disponivel;\n};\n// Funções para obter informações\nconst getUtenteInfo = async (utenteId)=>{\n    const { data, error } = await supabase.from(\"utente\").select(\"*\").eq(\"ut_cod\", utenteId).single();\n    if (error || !data) return null;\n    return data;\n};\nconst getLivroInfo = async (livroId)=>{\n    const { data, error } = await supabase.from(\"livro\").select(`\r\n      *,\r\n      autor:autor(au_nome),\r\n      editora:editora(ed_nome),\r\n      genero:genero(ge_genero)\r\n    `).eq(\"li_cod\", livroId).single();\n    if (error || !data) return null;\n    return data;\n};\n// Função para verificar empréstimos em atraso\nconst hasOverdueLoans = async (utenteId)=>{\n    const { data, error } = await supabase.from(\"requisicao\").select(\"re_cod\").eq(\"re_ut_cod\", utenteId).is(\"re_data_devolucao\", null).lt(\"re_data_requisicao\", new Date(Date.now() - 14 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0]);\n    if (error) return false;\n    return data && data.length > 0;\n};\n// Funções para mensagens de feedback\nconst showSuccessMessage = (message)=>{\n    return `<div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n          </div>`;\n};\nconst showErrorMessage = (message)=>{\n    return `<div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n          </div>`;\n};\nconst showWarningMessage = (message)=>{\n    return `<div class=\"alert alert-warning alert-dismissible fade show\" role=\"alert\">\r\n            ${message}\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\r\n          </div>`;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBRXZHLElBQUlOLE9BQU8sT0FBTztJQUNsQixPQUFPaUIsUUFBUUEsS0FBS2MsTUFBTSxHQUFHO0FBQy9CLEVBQUM7QUFFRCxxQ0FBcUM7QUFDOUIsTUFBTUMscUJBQXFCLENBQUNDO0lBQ2pDLE9BQU8sQ0FBQztZQUNFLEVBQUVBLFFBQVE7O2dCQUVOLENBQUM7QUFDakIsRUFBQztBQUVNLE1BQU1DLG1CQUFtQixDQUFDRDtJQUMvQixPQUFPLENBQUM7WUFDRSxFQUFFQSxRQUFROztnQkFFTixDQUFDO0FBQ2pCLEVBQUM7QUFFTSxNQUFNRSxxQkFBcUIsQ0FBQ0Y7SUFDakMsT0FBTyxDQUFDO1lBQ0UsRUFBRUEsUUFBUTs7Z0JBRU4sQ0FBQztBQUNqQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmlibGlvdGVjYS1lc2NvbGFyLW5leHRqcy8uL2xpYi9zdXBhYmFzZUNsaWVudC5qcz81ZjBkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDbGllbnRlIFN1cGFiYXNlIHBhcmEgQmlibGlvdGVjYSBFc2NvbGFyXHJcbiAqIENvbmZpZ3VyYcOnw6NvIGRvIGNsaWVudGUgU3VwYWJhc2UgY29tIGFzIHZhcmnDoXZlaXMgZGUgYW1iaWVudGVcclxuICovXHJcblxyXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXHJcblxyXG4vLyBDb25maWd1cmHDp8OjbyBkbyBjbGllbnRlIFN1cGFiYXNlXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gJ2h0dHBzOi8veHdtdHV2ZHlobW5pY3V0c3Vta2Uuc3VwYWJhc2UuY28nXHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbmgzYlhSMWRtUjVhRzF1YVdOMWRITjFiV3RsSWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNOVGt5TXpjME56Z3NJbVY0Y0NJNk1qQTNORGd4TXpRM09IMC5TcnJJODd4U09wd1dKb180RDUtVnJxQm44ZVotbE9yVHhHcUxsM2VKeENVJ1xyXG5cclxuLy8gQ3JpYXIgZSBleHBvcnRhciBvIGNsaWVudGUgU3VwYWJhc2VcclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXHJcblxyXG4vLyBDbGllbnRlIHBhcmEgb3BlcmHDp8O1ZXMgZG8gc2Vydmlkb3IgKEFQSSByb3V0ZXMpXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gY3JlYXRlQ2xpZW50KFxyXG4gIHN1cGFiYXNlVXJsLFxyXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgfHwgc3VwYWJhc2VBbm9uS2V5LFxyXG4gIHtcclxuICAgIGF1dGg6IHtcclxuICAgICAgYXV0b1JlZnJlc2hUb2tlbjogZmFsc2UsXHJcbiAgICAgIHBlcnNpc3RTZXNzaW9uOiBmYWxzZSxcclxuICAgIH0sXHJcbiAgfVxyXG4pXHJcblxyXG4vLyBGdW7Dp8O1ZXMgYXV4aWxpYXJlcyBwYXJhIGZvcm1hdGHDp8OjbyBlIHZhbGlkYcOnw6NvXHJcbmV4cG9ydCBjb25zdCBmb3JtYXREYXRlID0gKGRhdGUpID0+IHtcclxuICBpZiAoIWRhdGUpIHJldHVybiAnTi9BJ1xyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRlT2JqID0gdHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnID8gbmV3IERhdGUoZGF0ZSkgOiBkYXRlXHJcbiAgICByZXR1cm4gZGF0ZU9iai50b0xvY2FsZURhdGVTdHJpbmcoJ3B0LUJSJylcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuICdEYXRhIGludsOhbGlkYSdcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVEdWVEYXRlID0gKGRheXMgPSAxNCkgPT4ge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cylcclxuICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzVmFsaWRFbWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskL1xyXG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzYW5pdGl6ZSA9IChpbnB1dCkgPT4ge1xyXG4gIHJldHVybiBpbnB1dC50cmltKCkucmVwbGFjZSgvWzw+XS9nLCAnJylcclxufVxyXG5cclxuLy8gRnVuw6fDtWVzIHBhcmEgdmFsaWRhw6fDo28gZGUgZXhlbXBsYXJlc1xyXG5leHBvcnQgY29uc3QgaXNFeGVtcGxhckRpc3Bvbml2ZWwgPSBhc3luYyAoZXhlbXBsYXJJZCkgPT4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGl2cm9fZXhlbXBsYXInKVxyXG4gICAgLnNlbGVjdCgnbGV4X2Rpc3Bvbml2ZWwnKVxyXG4gICAgLmVxKCdsZXhfY29kJywgZXhlbXBsYXJJZClcclxuICAgIC5zaW5nbGUoKVxyXG5cclxuICBpZiAoZXJyb3IgfHwgIWRhdGEpIHJldHVybiBmYWxzZVxyXG4gIHJldHVybiBkYXRhLmxleF9kaXNwb25pdmVsXHJcbn1cclxuXHJcbi8vIEZ1bsOnw7VlcyBwYXJhIG9idGVyIGluZm9ybWHDp8O1ZXNcclxuZXhwb3J0IGNvbnN0IGdldFV0ZW50ZUluZm8gPSBhc3luYyAodXRlbnRlSWQpID0+IHtcclxuICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ3V0ZW50ZScpXHJcbiAgICAuc2VsZWN0KCcqJylcclxuICAgIC5lcSgndXRfY29kJywgdXRlbnRlSWQpXHJcbiAgICAuc2luZ2xlKClcclxuXHJcbiAgaWYgKGVycm9yIHx8ICFkYXRhKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiBkYXRhXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRMaXZyb0luZm8gPSBhc3luYyAobGl2cm9JZCkgPT4ge1xyXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGl2cm8nKVxyXG4gICAgLnNlbGVjdChgXHJcbiAgICAgICosXHJcbiAgICAgIGF1dG9yOmF1dG9yKGF1X25vbWUpLFxyXG4gICAgICBlZGl0b3JhOmVkaXRvcmEoZWRfbm9tZSksXHJcbiAgICAgIGdlbmVybzpnZW5lcm8oZ2VfZ2VuZXJvKVxyXG4gICAgYClcclxuICAgIC5lcSgnbGlfY29kJywgbGl2cm9JZClcclxuICAgIC5zaW5nbGUoKVxyXG5cclxuICBpZiAoZXJyb3IgfHwgIWRhdGEpIHJldHVybiBudWxsXHJcbiAgcmV0dXJuIGRhdGFcclxufVxyXG5cclxuLy8gRnVuw6fDo28gcGFyYSB2ZXJpZmljYXIgZW1wcsOpc3RpbW9zIGVtIGF0cmFzb1xyXG5leHBvcnQgY29uc3QgaGFzT3ZlcmR1ZUxvYW5zID0gYXN5bmMgKHV0ZW50ZUlkKSA9PiB7XHJcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdyZXF1aXNpY2FvJylcclxuICAgIC5zZWxlY3QoJ3JlX2NvZCcpXHJcbiAgICAuZXEoJ3JlX3V0X2NvZCcsIHV0ZW50ZUlkKVxyXG4gICAgLmlzKCdyZV9kYXRhX2Rldm9sdWNhbycsIG51bGwpXHJcbiAgICAubHQoJ3JlX2RhdGFfcmVxdWlzaWNhbycsIG5ldyBEYXRlKERhdGUubm93KCkgLSAxNCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcclxuXHJcbiAgaWYgKGVycm9yKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDBcclxufVxyXG5cclxuLy8gRnVuw6fDtWVzIHBhcmEgbWVuc2FnZW5zIGRlIGZlZWRiYWNrXHJcbmV4cG9ydCBjb25zdCBzaG93U3VjY2Vzc01lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xyXG4gIHJldHVybiBgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3MgYWxlcnQtZGlzbWlzc2libGUgZmFkZSBzaG93XCIgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgICR7bWVzc2FnZX1cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4tY2xvc2VcIiBkYXRhLWJzLWRpc21pc3M9XCJhbGVydFwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+YFxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2hvd0Vycm9yTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyIGFsZXJ0LWRpc21pc3NpYmxlIGZhZGUgc2hvd1wiIHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAke21lc3NhZ2V9XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuLWNsb3NlXCIgZGF0YS1icy1kaXNtaXNzPVwiYWxlcnRcIj48L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PmBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNob3dXYXJuaW5nTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZyBhbGVydC1kaXNtaXNzaWJsZSBmYWRlIHNob3dcIiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgJHttZXNzYWdlfVxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0bi1jbG9zZVwiIGRhdGEtYnMtZGlzbWlzcz1cImFsZXJ0XCI+PC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5gXHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwic3VwYWJhc2VBbm9uS2V5Iiwic3VwYWJhc2UiLCJzdXBhYmFzZUFkbWluIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJhdXRoIiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiZm9ybWF0RGF0ZSIsImRhdGUiLCJkYXRlT2JqIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImVycm9yIiwiY2FsY3VsYXRlRHVlRGF0ZSIsImRheXMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0Iiwic2FuaXRpemUiLCJpbnB1dCIsInRyaW0iLCJyZXBsYWNlIiwiaXNFeGVtcGxhckRpc3Bvbml2ZWwiLCJleGVtcGxhcklkIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImxleF9kaXNwb25pdmVsIiwiZ2V0VXRlbnRlSW5mbyIsInV0ZW50ZUlkIiwiZ2V0TGl2cm9JbmZvIiwibGl2cm9JZCIsImhhc092ZXJkdWVMb2FucyIsImlzIiwibHQiLCJub3ciLCJsZW5ndGgiLCJzaG93U3VjY2Vzc01lc3NhZ2UiLCJtZXNzYWdlIiwic2hvd0Vycm9yTWVzc2FnZSIsInNob3dXYXJuaW5nTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/supabaseClient.js\n");

/***/ }),

/***/ "(api)/./pages/api/requisicoes.js":
/*!**********************************!*\
  !*** ./pages/api/requisicoes.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseClient */ \"(api)/./lib/supabaseClient.js\");\n/**\r\n * API Route para CRUD da tabela requisicao\r\n * Gerencia empréstimos da biblioteca\r\n */ \nasync function handler(req, res) {\n    // Configurar CORS para permitir requisições do frontend\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, PUT, DELETE, OPTIONS\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Authorization\");\n    // Responder a requisições OPTIONS (preflight)\n    if (req.method === \"OPTIONS\") {\n        return res.status(200).end();\n    }\n    try {\n        switch(req.method){\n            case \"GET\":\n                return await handleGet(req, res);\n            case \"POST\":\n                return await handlePost(req, res);\n            case \"PUT\":\n                return await handlePut(req, res);\n            case \"DELETE\":\n                return await handleDelete(req, res);\n            default:\n                return res.status(405).json({\n                    error: \"M\\xe9todo n\\xe3o permitido\"\n                });\n        }\n    } catch (error) {\n        console.error(\"Erro na API de requisi\\xe7\\xf5es:\", error);\n        return res.status(500).json({\n            error: \"Erro interno do servidor\"\n        });\n    }\n}\n/**\r\n * GET - Buscar requisições\r\n * Suporta filtros por status (ativo, devolvido) e paginação\r\n */ async function handleGet(req, res) {\n    const { status, page = 1, limit = 10, id } = req.query;\n    try {\n        // Se foi fornecido um ID específico, buscar apenas essa requisição\n        if (id) {\n            const { data: requisicao, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"requisicao\").select(`\r\n          re_cod,\r\n          re_data_requisicao,\r\n          re_data_devolucao,\r\n          utente:utente (\r\n            ut_cod,\r\n            ut_nome,\r\n            ut_email\r\n          ),\r\n          exemplar:livro_exemplar (\r\n            lex_cod,\r\n            lex_estado,\r\n            lex_disponivel,\r\n            livro:livro (\r\n              li_titulo,\r\n              autor:autor (\r\n                au_nome\r\n              )\r\n            )\r\n          )\r\n        `).eq(\"re_cod\", id).single();\n            if (error) {\n                if (error.code === \"PGRST116\") {\n                    return res.status(404).json({\n                        error: \"Requisi\\xe7\\xe3o n\\xe3o encontrada\"\n                    });\n                }\n                throw error;\n            }\n            return res.status(200).json({\n                data: requisicao\n            });\n        }\n        // Busca geral com filtros\n        let query = _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"requisicao\").select(`\r\n        re_cod,\r\n        re_data_requisicao,\r\n        re_data_devolucao,\r\n        utente:utente (\r\n          ut_cod,\r\n          ut_nome,\r\n          ut_email\r\n        ),\r\n        exemplar:livro_exemplar (\r\n          lex_cod,\r\n          lex_estado,\r\n          lex_disponivel,\r\n          livro:livro (\r\n            li_titulo,\r\n            autor:autor (\r\n              au_nome\r\n            )\r\n          )\r\n        )\r\n      `);\n        // Aplicar filtros\n        if (status === \"ativo\") {\n            query = query.is(\"re_data_devolucao\", null);\n        } else if (status === \"devolvido\") {\n            query = query.not(\"re_data_devolucao\", \"is\", null);\n        }\n        // Ordenar por data de requisição (mais recentes primeiro)\n        query = query.order(\"re_data_requisicao\", {\n            ascending: false\n        });\n        // Aplicar paginação\n        const from = (page - 1) * limit;\n        const to = from + limit - 1;\n        query = query.range(from, to);\n        const { data: requisicoes, error } = await query;\n        if (error) throw error;\n        return res.status(200).json({\n            data: requisicoes\n        });\n    } catch (error) {\n        console.error(\"Erro ao buscar requisi\\xe7\\xf5es:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\r\n * POST - Criar nova requisição (empréstimo)\r\n */ async function handlePost(req, res) {\n    const { re_ut_cod, re_lex_cod, re_data_requisicao } = req.body;\n    try {\n        // Validar dados obrigatórios\n        if (!re_ut_cod || !re_lex_cod) {\n            return res.status(400).json({\n                error: \"Utente e exemplar s\\xe3o obrigat\\xf3rios\"\n            });\n        }\n        // Verificar se o exemplar está disponível\n        const { data: exemplar, error: exemplarError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").select(\"lex_disponivel\").eq(\"lex_cod\", re_lex_cod).single();\n        if (exemplarError) {\n            return res.status(400).json({\n                error: \"Exemplar n\\xe3o encontrado\"\n            });\n        }\n        if (!exemplar.lex_disponivel) {\n            return res.status(400).json({\n                error: \"Exemplar n\\xe3o est\\xe1 dispon\\xedvel\"\n            });\n        }\n        // Criar a requisição\n        const { data: novaRequisicao, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"requisicao\").insert({\n            re_ut_cod,\n            re_lex_cod,\n            re_data_requisicao: re_data_requisicao || new Date().toISOString().split(\"T\")[0]\n        }).select().single();\n        if (error) throw error;\n        // Atualizar exemplar como indisponível\n        const { error: updateError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").update({\n            lex_disponivel: false\n        }).eq(\"lex_cod\", re_lex_cod);\n        if (updateError) {\n            console.error(\"Erro ao atualizar exemplar:\", updateError);\n        // Não falhar a operação, apenas logar o erro\n        }\n        return res.status(201).json({\n            data: novaRequisicao\n        });\n    } catch (error) {\n        console.error(\"Erro ao criar requisi\\xe7\\xe3o:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\r\n * PUT - Atualizar requisição (devolução)\r\n */ async function handlePut(req, res) {\n    const { id } = req.query;\n    const { re_data_devolucao } = req.body;\n    try {\n        if (!id) {\n            return res.status(400).json({\n                error: \"ID da requisi\\xe7\\xe3o \\xe9 obrigat\\xf3rio\"\n            });\n        }\n        // Buscar a requisição para obter o exemplar\n        const { data: requisicao, error: fetchError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"requisicao\").select(\"re_lex_cod\").eq(\"re_cod\", id).single();\n        if (fetchError) {\n            return res.status(404).json({\n                error: \"Requisi\\xe7\\xe3o n\\xe3o encontrada\"\n            });\n        }\n        // Atualizar a requisição com a data de devolução\n        const { data: requisicaoAtualizada, error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"requisicao\").update({\n            re_data_devolucao: re_data_devolucao || new Date().toISOString().split(\"T\")[0]\n        }).eq(\"re_cod\", id).select().single();\n        if (error) throw error;\n        // Atualizar exemplar como disponível\n        const { error: updateError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"livro_exemplar\").update({\n            lex_disponivel: true\n        }).eq(\"lex_cod\", requisicao.re_lex_cod);\n        if (updateError) {\n            console.error(\"Erro ao atualizar exemplar:\", updateError);\n        // Não falhar a operação, apenas logar o erro\n        }\n        return res.status(200).json({\n            data: requisicaoAtualizada\n        });\n    } catch (error) {\n        console.error(\"Erro ao atualizar requisi\\xe7\\xe3o:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n/**\r\n * DELETE - Deletar requisição\r\n */ async function handleDelete(req, res) {\n    const { id } = req.query;\n    try {\n        if (!id) {\n            return res.status(400).json({\n                error: \"ID da requisi\\xe7\\xe3o \\xe9 obrigat\\xf3rio\"\n            });\n        }\n        const { error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"requisicao\").delete().eq(\"re_cod\", id);\n        if (error) throw error;\n        return res.status(200).json({\n            message: \"Requisi\\xe7\\xe3o deletada com sucesso\"\n        });\n    } catch (error) {\n        console.error(\"Erro ao deletar requisi\\xe7\\xe3o:\", error);\n        return res.status(500).json({\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcmVxdWlzaWNvZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7O0NBR0MsR0FFdUQ7QUFFekMsZUFBZUMsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLHdEQUF3RDtJQUN4REEsSUFBSUMsU0FBUyxDQUFDLCtCQUErQjtJQUM3Q0QsSUFBSUMsU0FBUyxDQUFDLGdDQUFnQztJQUM5Q0QsSUFBSUMsU0FBUyxDQUFDLGdDQUFnQztJQUU5Qyw4Q0FBOEM7SUFDOUMsSUFBSUYsSUFBSUcsTUFBTSxLQUFLLFdBQVc7UUFDNUIsT0FBT0YsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLEdBQUc7SUFDNUI7SUFFQSxJQUFJO1FBQ0YsT0FBUUwsSUFBSUcsTUFBTTtZQUNoQixLQUFLO2dCQUNILE9BQU8sTUFBTUcsVUFBVU4sS0FBS0M7WUFDOUIsS0FBSztnQkFDSCxPQUFPLE1BQU1NLFdBQVdQLEtBQUtDO1lBQy9CLEtBQUs7Z0JBQ0gsT0FBTyxNQUFNTyxVQUFVUixLQUFLQztZQUM5QixLQUFLO2dCQUNILE9BQU8sTUFBTVEsYUFBYVQsS0FBS0M7WUFDakM7Z0JBQ0UsT0FBT0EsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBdUI7UUFDaEU7SUFDRixFQUFFLE9BQU9BLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUErQkE7UUFDN0MsT0FBT1YsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTJCO0lBQ2xFO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxlQUFlTCxVQUFVTixHQUFHLEVBQUVDLEdBQUc7SUFDL0IsTUFBTSxFQUFFRyxNQUFNLEVBQUVTLE9BQU8sQ0FBQyxFQUFFQyxRQUFRLEVBQUUsRUFBRUMsRUFBRSxFQUFFLEdBQUdmLElBQUlnQixLQUFLO0lBRXRELElBQUk7UUFDRixtRUFBbUU7UUFDbkUsSUFBSUQsSUFBSTtZQUNOLE1BQU0sRUFBRUUsTUFBTUMsVUFBVSxFQUFFUCxLQUFLLEVBQUUsR0FBRyxNQUFNYiw4REFBYUEsQ0FDcERxQixJQUFJLENBQUMsY0FDTEMsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBb0JULENBQUMsRUFDQUMsRUFBRSxDQUFDLFVBQVVOLElBQ2JPLE1BQU07WUFFVCxJQUFJWCxPQUFPO2dCQUNULElBQUlBLE1BQU1ZLElBQUksS0FBSyxZQUFZO29CQUM3QixPQUFPdEIsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQzt3QkFBRUMsT0FBTztvQkFBNEI7Z0JBQ25FO2dCQUNBLE1BQU1BO1lBQ1I7WUFFQSxPQUFPVixJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO2dCQUFFTyxNQUFNQztZQUFXO1FBQ2pEO1FBRUEsMEJBQTBCO1FBQzFCLElBQUlGLFFBQVFsQiw4REFBYUEsQ0FDdEJxQixJQUFJLENBQUMsY0FDTEMsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O01Bb0JULENBQUM7UUFFSCxrQkFBa0I7UUFDbEIsSUFBSWhCLFdBQVcsU0FBUztZQUN0QlksUUFBUUEsTUFBTVEsRUFBRSxDQUFDLHFCQUFxQjtRQUN4QyxPQUFPLElBQUlwQixXQUFXLGFBQWE7WUFDakNZLFFBQVFBLE1BQU1TLEdBQUcsQ0FBQyxxQkFBcUIsTUFBTTtRQUMvQztRQUVBLDBEQUEwRDtRQUMxRFQsUUFBUUEsTUFBTVUsS0FBSyxDQUFDLHNCQUFzQjtZQUFFQyxXQUFXO1FBQU07UUFFN0Qsb0JBQW9CO1FBQ3BCLE1BQU1SLE9BQU8sQ0FBQ04sT0FBTyxLQUFLQztRQUMxQixNQUFNYyxLQUFLVCxPQUFPTCxRQUFRO1FBQzFCRSxRQUFRQSxNQUFNYSxLQUFLLENBQUNWLE1BQU1TO1FBRTFCLE1BQU0sRUFBRVgsTUFBTWEsV0FBVyxFQUFFbkIsS0FBSyxFQUFFLEdBQUcsTUFBTUs7UUFFM0MsSUFBSUwsT0FBTyxNQUFNQTtRQUVqQixPQUFPVixJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO1lBQUVPLE1BQU1hO1FBQVk7SUFDbEQsRUFBRSxPQUFPbkIsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMscUNBQStCQTtRQUM3QyxPQUFPVixJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO1lBQUVDLE9BQU9BLE1BQU1vQixPQUFPO1FBQUM7SUFDckQ7QUFDRjtBQUVBOztDQUVDLEdBQ0QsZUFBZXhCLFdBQVdQLEdBQUcsRUFBRUMsR0FBRztJQUNoQyxNQUFNLEVBQUUrQixTQUFTLEVBQUVDLFVBQVUsRUFBRUMsa0JBQWtCLEVBQUUsR0FBR2xDLElBQUltQyxJQUFJO0lBRTlELElBQUk7UUFDRiw2QkFBNkI7UUFDN0IsSUFBSSxDQUFDSCxhQUFhLENBQUNDLFlBQVk7WUFDN0IsT0FBT2hDLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBcUM7UUFDNUU7UUFFQSwwQ0FBMEM7UUFDMUMsTUFBTSxFQUFFTSxNQUFNbUIsUUFBUSxFQUFFekIsT0FBTzBCLGFBQWEsRUFBRSxHQUFHLE1BQU12Qyw4REFBYUEsQ0FDakVxQixJQUFJLENBQUMsa0JBQ0xDLE1BQU0sQ0FBQyxrQkFDUEMsRUFBRSxDQUFDLFdBQVdZLFlBQ2RYLE1BQU07UUFFVCxJQUFJZSxlQUFlO1lBQ2pCLE9BQU9wQyxJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQTBCO1FBQ2pFO1FBRUEsSUFBSSxDQUFDeUIsU0FBU0UsY0FBYyxFQUFFO1lBQzVCLE9BQU9yQyxJQUFJRyxNQUFNLENBQUMsS0FBS00sSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQStCO1FBQ3RFO1FBRUEscUJBQXFCO1FBQ3JCLE1BQU0sRUFBRU0sTUFBTXNCLGNBQWMsRUFBRTVCLEtBQUssRUFBRSxHQUFHLE1BQU1iLDhEQUFhQSxDQUN4RHFCLElBQUksQ0FBQyxjQUNMcUIsTUFBTSxDQUFDO1lBQ05SO1lBQ0FDO1lBQ0FDLG9CQUFvQkEsc0JBQXNCLElBQUlPLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2xGLEdBQ0N2QixNQUFNLEdBQ05FLE1BQU07UUFFVCxJQUFJWCxPQUFPLE1BQU1BO1FBRWpCLHVDQUF1QztRQUN2QyxNQUFNLEVBQUVBLE9BQU9pQyxXQUFXLEVBQUUsR0FBRyxNQUFNOUMsOERBQWFBLENBQy9DcUIsSUFBSSxDQUFDLGtCQUNMMEIsTUFBTSxDQUFDO1lBQUVQLGdCQUFnQjtRQUFNLEdBQy9CakIsRUFBRSxDQUFDLFdBQVdZO1FBRWpCLElBQUlXLGFBQWE7WUFDZmhDLFFBQVFELEtBQUssQ0FBQywrQkFBK0JpQztRQUM3Qyw2Q0FBNkM7UUFDL0M7UUFFQSxPQUFPM0MsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztZQUFFTyxNQUFNc0I7UUFBZTtJQUNyRCxFQUFFLE9BQU81QixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBNkJBO1FBQzNDLE9BQU9WLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7WUFBRUMsT0FBT0EsTUFBTW9CLE9BQU87UUFBQztJQUNyRDtBQUNGO0FBRUE7O0NBRUMsR0FDRCxlQUFldkIsVUFBVVIsR0FBRyxFQUFFQyxHQUFHO0lBQy9CLE1BQU0sRUFBRWMsRUFBRSxFQUFFLEdBQUdmLElBQUlnQixLQUFLO0lBQ3hCLE1BQU0sRUFBRThCLGlCQUFpQixFQUFFLEdBQUc5QyxJQUFJbUMsSUFBSTtJQUV0QyxJQUFJO1FBQ0YsSUFBSSxDQUFDcEIsSUFBSTtZQUNQLE9BQU9kLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBaUM7UUFDeEU7UUFFQSw0Q0FBNEM7UUFDNUMsTUFBTSxFQUFFTSxNQUFNQyxVQUFVLEVBQUVQLE9BQU9vQyxVQUFVLEVBQUUsR0FBRyxNQUFNakQsOERBQWFBLENBQ2hFcUIsSUFBSSxDQUFDLGNBQ0xDLE1BQU0sQ0FBQyxjQUNQQyxFQUFFLENBQUMsVUFBVU4sSUFDYk8sTUFBTTtRQUVULElBQUl5QixZQUFZO1lBQ2QsT0FBTzlDLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBNEI7UUFDbkU7UUFFQSxpREFBaUQ7UUFDakQsTUFBTSxFQUFFTSxNQUFNK0Isb0JBQW9CLEVBQUVyQyxLQUFLLEVBQUUsR0FBRyxNQUFNYiw4REFBYUEsQ0FDOURxQixJQUFJLENBQUMsY0FDTDBCLE1BQU0sQ0FBQztZQUNOQyxtQkFBbUJBLHFCQUFxQixJQUFJTCxPQUFPQyxXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNoRixHQUNDdEIsRUFBRSxDQUFDLFVBQVVOLElBQ2JLLE1BQU0sR0FDTkUsTUFBTTtRQUVULElBQUlYLE9BQU8sTUFBTUE7UUFFakIscUNBQXFDO1FBQ3JDLE1BQU0sRUFBRUEsT0FBT2lDLFdBQVcsRUFBRSxHQUFHLE1BQU05Qyw4REFBYUEsQ0FDL0NxQixJQUFJLENBQUMsa0JBQ0wwQixNQUFNLENBQUM7WUFBRVAsZ0JBQWdCO1FBQUssR0FDOUJqQixFQUFFLENBQUMsV0FBV0gsV0FBV2UsVUFBVTtRQUV0QyxJQUFJVyxhQUFhO1lBQ2ZoQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCaUM7UUFDN0MsNkNBQTZDO1FBQy9DO1FBRUEsT0FBTzNDLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7WUFBRU8sTUFBTStCO1FBQXFCO0lBQzNELEVBQUUsT0FBT3JDLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHVDQUFpQ0E7UUFDL0MsT0FBT1YsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztZQUFFQyxPQUFPQSxNQUFNb0IsT0FBTztRQUFDO0lBQ3JEO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNELGVBQWV0QixhQUFhVCxHQUFHLEVBQUVDLEdBQUc7SUFDbEMsTUFBTSxFQUFFYyxFQUFFLEVBQUUsR0FBR2YsSUFBSWdCLEtBQUs7SUFFeEIsSUFBSTtRQUNGLElBQUksQ0FBQ0QsSUFBSTtZQUNQLE9BQU9kLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBaUM7UUFDeEU7UUFFQSxNQUFNLEVBQUVBLEtBQUssRUFBRSxHQUFHLE1BQU1iLDhEQUFhQSxDQUNsQ3FCLElBQUksQ0FBQyxjQUNMOEIsTUFBTSxHQUNONUIsRUFBRSxDQUFDLFVBQVVOO1FBRWhCLElBQUlKLE9BQU8sTUFBTUE7UUFFakIsT0FBT1YsSUFBSUcsTUFBTSxDQUFDLEtBQUtNLElBQUksQ0FBQztZQUFFcUIsU0FBUztRQUFrQztJQUMzRSxFQUFFLE9BQU9wQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxxQ0FBK0JBO1FBQzdDLE9BQU9WLElBQUlHLE1BQU0sQ0FBQyxLQUFLTSxJQUFJLENBQUM7WUFBRUMsT0FBT0EsTUFBTW9CLE9BQU87UUFBQztJQUNyRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmlibGlvdGVjYS1lc2NvbGFyLW5leHRqcy8uL3BhZ2VzL2FwaS9yZXF1aXNpY29lcy5qcz9hZDNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBUEkgUm91dGUgcGFyYSBDUlVEIGRhIHRhYmVsYSByZXF1aXNpY2FvXHJcbiAqIEdlcmVuY2lhIGVtcHLDqXN0aW1vcyBkYSBiaWJsaW90ZWNhXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZUNsaWVudCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICAvLyBDb25maWd1cmFyIENPUlMgcGFyYSBwZXJtaXRpciByZXF1aXNpw6fDtWVzIGRvIGZyb250ZW5kXHJcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKVxyXG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpXHJcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdDb250ZW50LVR5cGUsIEF1dGhvcml6YXRpb24nKVxyXG5cclxuICAvLyBSZXNwb25kZXIgYSByZXF1aXNpw6fDtWVzIE9QVElPTlMgKHByZWZsaWdodClcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmVuZCgpXHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICAgIGNhc2UgJ0dFVCc6XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZUdldChyZXEsIHJlcylcclxuICAgICAgY2FzZSAnUE9TVCc6XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZVBvc3QocmVxLCByZXMpXHJcbiAgICAgIGNhc2UgJ1BVVCc6XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZVB1dChyZXEsIHJlcylcclxuICAgICAgY2FzZSAnREVMRVRFJzpcclxuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlRGVsZXRlKHJlcSwgcmVzKVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTcOpdG9kbyBuw6NvIHBlcm1pdGlkbycgfSlcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJybyBuYSBBUEkgZGUgcmVxdWlzacOnw7VlczonLCBlcnJvcilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJyB9KVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdFVCAtIEJ1c2NhciByZXF1aXNpw6fDtWVzXHJcbiAqIFN1cG9ydGEgZmlsdHJvcyBwb3Igc3RhdHVzIChhdGl2bywgZGV2b2x2aWRvKSBlIHBhZ2luYcOnw6NvXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVHZXQocmVxLCByZXMpIHtcclxuICBjb25zdCB7IHN0YXR1cywgcGFnZSA9IDEsIGxpbWl0ID0gMTAsIGlkIH0gPSByZXEucXVlcnlcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFNlIGZvaSBmb3JuZWNpZG8gdW0gSUQgZXNwZWPDrWZpY28sIGJ1c2NhciBhcGVuYXMgZXNzYSByZXF1aXNpw6fDo29cclxuICAgIGlmIChpZCkge1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHJlcXVpc2ljYW8sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgICAgLmZyb20oJ3JlcXVpc2ljYW8nKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgcmVfY29kLFxyXG4gICAgICAgICAgcmVfZGF0YV9yZXF1aXNpY2FvLFxyXG4gICAgICAgICAgcmVfZGF0YV9kZXZvbHVjYW8sXHJcbiAgICAgICAgICB1dGVudGU6dXRlbnRlIChcclxuICAgICAgICAgICAgdXRfY29kLFxyXG4gICAgICAgICAgICB1dF9ub21lLFxyXG4gICAgICAgICAgICB1dF9lbWFpbFxyXG4gICAgICAgICAgKSxcclxuICAgICAgICAgIGV4ZW1wbGFyOmxpdnJvX2V4ZW1wbGFyIChcclxuICAgICAgICAgICAgbGV4X2NvZCxcclxuICAgICAgICAgICAgbGV4X2VzdGFkbyxcclxuICAgICAgICAgICAgbGV4X2Rpc3Bvbml2ZWwsXHJcbiAgICAgICAgICAgIGxpdnJvOmxpdnJvIChcclxuICAgICAgICAgICAgICBsaV90aXR1bG8sXHJcbiAgICAgICAgICAgICAgYXV0b3I6YXV0b3IgKFxyXG4gICAgICAgICAgICAgICAgYXVfbm9tZVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCdyZV9jb2QnLCBpZClcclxuICAgICAgICAuc2luZ2xlKClcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1JlcXVpc2nDp8OjbyBuw6NvIGVuY29udHJhZGEnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRhdGE6IHJlcXVpc2ljYW8gfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBCdXNjYSBnZXJhbCBjb20gZmlsdHJvc1xyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgncmVxdWlzaWNhbycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIHJlX2NvZCxcclxuICAgICAgICByZV9kYXRhX3JlcXVpc2ljYW8sXHJcbiAgICAgICAgcmVfZGF0YV9kZXZvbHVjYW8sXHJcbiAgICAgICAgdXRlbnRlOnV0ZW50ZSAoXHJcbiAgICAgICAgICB1dF9jb2QsXHJcbiAgICAgICAgICB1dF9ub21lLFxyXG4gICAgICAgICAgdXRfZW1haWxcclxuICAgICAgICApLFxyXG4gICAgICAgIGV4ZW1wbGFyOmxpdnJvX2V4ZW1wbGFyIChcclxuICAgICAgICAgIGxleF9jb2QsXHJcbiAgICAgICAgICBsZXhfZXN0YWRvLFxyXG4gICAgICAgICAgbGV4X2Rpc3Bvbml2ZWwsXHJcbiAgICAgICAgICBsaXZybzpsaXZybyAoXHJcbiAgICAgICAgICAgIGxpX3RpdHVsbyxcclxuICAgICAgICAgICAgYXV0b3I6YXV0b3IgKFxyXG4gICAgICAgICAgICAgIGF1X25vbWVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgYClcclxuXHJcbiAgICAvLyBBcGxpY2FyIGZpbHRyb3NcclxuICAgIGlmIChzdGF0dXMgPT09ICdhdGl2bycpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5pcygncmVfZGF0YV9kZXZvbHVjYW8nLCBudWxsKVxyXG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdkZXZvbHZpZG8nKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkubm90KCdyZV9kYXRhX2Rldm9sdWNhbycsICdpcycsIG51bGwpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gT3JkZW5hciBwb3IgZGF0YSBkZSByZXF1aXNpw6fDo28gKG1haXMgcmVjZW50ZXMgcHJpbWVpcm8pXHJcbiAgICBxdWVyeSA9IHF1ZXJ5Lm9yZGVyKCdyZV9kYXRhX3JlcXVpc2ljYW8nLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgICAvLyBBcGxpY2FyIHBhZ2luYcOnw6NvXHJcbiAgICBjb25zdCBmcm9tID0gKHBhZ2UgLSAxKSAqIGxpbWl0XHJcbiAgICBjb25zdCB0byA9IGZyb20gKyBsaW1pdCAtIDFcclxuICAgIHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pXHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiByZXF1aXNpY29lcywgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRhdGE6IHJlcXVpc2ljb2VzIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIHJlcXVpc2nDp8O1ZXM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBPU1QgLSBDcmlhciBub3ZhIHJlcXVpc2nDp8OjbyAoZW1wcsOpc3RpbW8pXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVQb3N0KHJlcSwgcmVzKSB7XHJcbiAgY29uc3QgeyByZV91dF9jb2QsIHJlX2xleF9jb2QsIHJlX2RhdGFfcmVxdWlzaWNhbyB9ID0gcmVxLmJvZHlcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIFZhbGlkYXIgZGFkb3Mgb2JyaWdhdMOzcmlvc1xyXG4gICAgaWYgKCFyZV91dF9jb2QgfHwgIXJlX2xleF9jb2QpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVdGVudGUgZSBleGVtcGxhciBzw6NvIG9icmlnYXTDs3Jpb3MnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHNlIG8gZXhlbXBsYXIgZXN0w6EgZGlzcG9uw612ZWxcclxuICAgIGNvbnN0IHsgZGF0YTogZXhlbXBsYXIsIGVycm9yOiBleGVtcGxhckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdsaXZyb19leGVtcGxhcicpXHJcbiAgICAgIC5zZWxlY3QoJ2xleF9kaXNwb25pdmVsJylcclxuICAgICAgLmVxKCdsZXhfY29kJywgcmVfbGV4X2NvZClcclxuICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGV4ZW1wbGFyRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFeGVtcGxhciBuw6NvIGVuY29udHJhZG8nIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFleGVtcGxhci5sZXhfZGlzcG9uaXZlbCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0V4ZW1wbGFyIG7Do28gZXN0w6EgZGlzcG9uw612ZWwnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JpYXIgYSByZXF1aXNpw6fDo29cclxuICAgIGNvbnN0IHsgZGF0YTogbm92YVJlcXVpc2ljYW8sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdyZXF1aXNpY2FvJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAgcmVfdXRfY29kLFxyXG4gICAgICAgIHJlX2xleF9jb2QsXHJcbiAgICAgICAgcmVfZGF0YV9yZXF1aXNpY2FvOiByZV9kYXRhX3JlcXVpc2ljYW8gfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuICAgICAgfSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuXHJcbiAgICAvLyBBdHVhbGl6YXIgZXhlbXBsYXIgY29tbyBpbmRpc3BvbsOtdmVsXHJcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgnbGl2cm9fZXhlbXBsYXInKVxyXG4gICAgICAudXBkYXRlKHsgbGV4X2Rpc3Bvbml2ZWw6IGZhbHNlIH0pXHJcbiAgICAgIC5lcSgnbGV4X2NvZCcsIHJlX2xleF9jb2QpXHJcblxyXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYXR1YWxpemFyIGV4ZW1wbGFyOicsIHVwZGF0ZUVycm9yKVxyXG4gICAgICAvLyBOw6NvIGZhbGhhciBhIG9wZXJhw6fDo28sIGFwZW5hcyBsb2dhciBvIGVycm9cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBkYXRhOiBub3ZhUmVxdWlzaWNhbyB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNyaWFyIHJlcXVpc2nDp8OjbzonLCBlcnJvcilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUFVUIC0gQXR1YWxpemFyIHJlcXVpc2nDp8OjbyAoZGV2b2x1w6fDo28pXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVQdXQocmVxLCByZXMpIHtcclxuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnlcclxuICBjb25zdCB7IHJlX2RhdGFfZGV2b2x1Y2FvIH0gPSByZXEuYm9keVxyXG5cclxuICB0cnkge1xyXG4gICAgaWYgKCFpZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0lEIGRhIHJlcXVpc2nDp8OjbyDDqSBvYnJpZ2F0w7NyaW8nIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVzY2FyIGEgcmVxdWlzacOnw6NvIHBhcmEgb2J0ZXIgbyBleGVtcGxhclxyXG4gICAgY29uc3QgeyBkYXRhOiByZXF1aXNpY2FvLCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxyXG4gICAgICAuZnJvbSgncmVxdWlzaWNhbycpXHJcbiAgICAgIC5zZWxlY3QoJ3JlX2xleF9jb2QnKVxyXG4gICAgICAuZXEoJ3JlX2NvZCcsIGlkKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZmV0Y2hFcnJvcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ1JlcXVpc2nDp8OjbyBuw6NvIGVuY29udHJhZGEnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXR1YWxpemFyIGEgcmVxdWlzacOnw6NvIGNvbSBhIGRhdGEgZGUgZGV2b2x1w6fDo29cclxuICAgIGNvbnN0IHsgZGF0YTogcmVxdWlzaWNhb0F0dWFsaXphZGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdyZXF1aXNpY2FvJylcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgcmVfZGF0YV9kZXZvbHVjYW86IHJlX2RhdGFfZGV2b2x1Y2FvIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgncmVfY29kJywgaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcblxyXG4gICAgLy8gQXR1YWxpemFyIGV4ZW1wbGFyIGNvbW8gZGlzcG9uw612ZWxcclxuICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgIC5mcm9tKCdsaXZyb19leGVtcGxhcicpXHJcbiAgICAgIC51cGRhdGUoeyBsZXhfZGlzcG9uaXZlbDogdHJ1ZSB9KVxyXG4gICAgICAuZXEoJ2xleF9jb2QnLCByZXF1aXNpY2FvLnJlX2xleF9jb2QpXHJcblxyXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYXR1YWxpemFyIGV4ZW1wbGFyOicsIHVwZGF0ZUVycm9yKVxyXG4gICAgICAvLyBOw6NvIGZhbGhhciBhIG9wZXJhw6fDo28sIGFwZW5hcyBsb2dhciBvIGVycm9cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiByZXF1aXNpY2FvQXR1YWxpemFkYSB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGF0dWFsaXphciByZXF1aXNpw6fDo286JywgZXJyb3IpXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIERFTEVURSAtIERlbGV0YXIgcmVxdWlzacOnw6NvXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGUocmVxLCByZXMpIHtcclxuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnlcclxuXHJcbiAgdHJ5IHtcclxuICAgIGlmICghaWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJRCBkYSByZXF1aXNpw6fDo28gw6kgb2JyaWdhdMOzcmlvJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cclxuICAgICAgLmZyb20oJ3JlcXVpc2ljYW8nKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdyZV9jb2QnLCBpZClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1JlcXVpc2nDp8OjbyBkZWxldGFkYSBjb20gc3VjZXNzbycgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBkZWxldGFyIHJlcXVpc2nDp8OjbzonLCBlcnJvcilcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbInN1cGFiYXNlQWRtaW4iLCJoYW5kbGVyIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwiaGFuZGxlR2V0IiwiaGFuZGxlUG9zdCIsImhhbmRsZVB1dCIsImhhbmRsZURlbGV0ZSIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJwYWdlIiwibGltaXQiLCJpZCIsInF1ZXJ5IiwiZGF0YSIsInJlcXVpc2ljYW8iLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJjb2RlIiwiaXMiLCJub3QiLCJvcmRlciIsImFzY2VuZGluZyIsInRvIiwicmFuZ2UiLCJyZXF1aXNpY29lcyIsIm1lc3NhZ2UiLCJyZV91dF9jb2QiLCJyZV9sZXhfY29kIiwicmVfZGF0YV9yZXF1aXNpY2FvIiwiYm9keSIsImV4ZW1wbGFyIiwiZXhlbXBsYXJFcnJvciIsImxleF9kaXNwb25pdmVsIiwibm92YVJlcXVpc2ljYW8iLCJpbnNlcnQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwicmVfZGF0YV9kZXZvbHVjYW8iLCJmZXRjaEVycm9yIiwicmVxdWlzaWNhb0F0dWFsaXphZGEiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/requisicoes.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frequisicoes&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Crequisicoes.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();